!function(e){function t(r){if(a[r])return a[r].exports;var o=a[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r=window.webpackJsonp;window.webpackJsonp=function(a,s){for(var n,i,u=0,c=[];u<a.length;u++)i=a[u],o[i]&&c.push.apply(c,o[i]),o[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(r&&r(a,s);c.length;)c.shift().call(null,t)};var a={},o={6:0};return t.e=function(e,r){if(0===o[e])return r.call(null,t);if(void 0!==o[e])o[e].push(r);else{o[e]=[r];var a=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.charset="utf-8",s.async=!0,s.src=t.p+""+e+"."+({}[e]||e)+".js",a.appendChild(s)}},t.m=e,t.c=a,t.p="/",t(0)}({0:function(e,t,r){"use strict";r(40);var a=r(14),o=new a,s=r(15).ClientError,n=[],i=void 0;window.isLogged?r.e(7,function(e){var t=r(28),a=(new t({elem:document.getElementById("user-menu"),className:"header-element"}),document.getElementsByClassName("cutaway__subscribe-button"));i=r(39),Array.prototype.forEach.call(a,function(e){n.push(new i({elem:e,data:e.dataset.username,dataStr:"username"}))})}):document.body.addEventListener("click",function(e){e.target.matches(".cutaway__subscribe-button")&&o.call(new s(null,null,401))});var u=function(e){var t=this;this.elem=e.elem,this.cutawaysWrapper=this.elem.querySelector(".home__cutaways-wrapper"),this.spinner=this.elem.querySelector(".home__spinner"),this.ghostCutaway=this.elem.querySelector(".home__cutaway"),this.isAvailable=!0,this.reportedCutaways=Array.prototype.map.call(this.elem.querySelectorAll(".home__cutaway"),function(e){return+e.dataset.userId}),this.noMoreCutaways=!this.ghostCutaway,this.timerId=setInterval(function(){t.noMoreCutaways?clearInterval(t.timerId):t.isAvailable&&document.body.scrollHeight===document.body.offsetHeight&&t.getNewCutaway()},3e3),window.onscroll=function(e){t.isAvailable&&!t.noMoreCutaways&&document.body.scrollHeight===document.body.scrollTop+document.body.offsetHeight&&t.getNewCutaway()}};u.prototype.getNewCutaway=function(){var e=this;this.spinner.classList.remove("spinner_invisible"),this.isAvailable=!1,r(25)({reportedCutaways:this.reportedCutaways},"POST","/cutaway",function(t,r){return t?void o.call(t):((r.isLastSet||0===r.cutaways.length)&&(e.noMoreCutaways=!0),r.cutaways.forEach(function(t){e.reportedCutaways.push(t.user._id),e.cutawaysWrapper.appendChild(e.getCutawayElem(t))}),e.spinner.classList.add("spinner_invisible"),void(e.isAvailable=!0))})},u.prototype.getCutawayElem=function(e){var t=this.ghostCutaway.cloneNode(!0);t.dataset.userId=e.user._id,t.querySelector(".cutaway__header-left-side").href=e.user.url,t.querySelector(".cutaway__username").textContent=e.user.username,t.querySelector(".cutaway__avatar").style.backgroundImage="url('"+e.user.avatarUrls.medium+"')";var r=t.querySelector(".cutaway__subscribe-button");r.dataset.username=e.user.username,e.user.isNarrator?r.dataset.active="true":r.removeAttribute("data-active"),i&&n.push(new i({elem:r,data:e.user.username,dataStr:"username"}));for(var a=t.querySelector(".cutaway__top"),o=t.querySelector(".cutaway__bottom"),s=0;s<a.children.length;s++)a.children[s].style.backgroundImage="url('"+e.imagesTop[s].previewUrl+"')";for(var s=0;s<o.children.length;s++)o.children[s].style.backgroundImage="url('"+e.imagesBottom[s].previewUrl+"')";return t};new u({elem:document.getElementById("home")})},14:function(e,t,r){"use strict";var a=function(e){var t=this;document.addEventListener("error",function(e){var r=e.detail;t.call(r)})};a.prototype.call=function(e){r.e(1,function(t){var a=r(15).ComponentError,o=r(16);if(!(e instanceof a))throw e;if(401===e.status)localStorage.setItem("redirected_url",window.location.href),window.location="/authorization";else{var s=new o({message:e.message});s.activate()}})},e.exports=a},15:function(e,t){"use strict";function r(e){this.name="CustomError",this.message=e,Error.captureStackTrace?Error.captureStackTrace(this,r):this.stack=Error().stack}function a(e,t){r.call(this,e||"An error has occurred"),this.name="ComponentError",this.status=t}function o(e,t,r){a.call(this,e||"An error has occurred. Check if javascript is enabled",r),this.name="ClientError",this.detail=t}function s(e){o.call(this,e||"Image not found. It probably has been removed",null,404),this.name="ImageNotFound"}function n(e,t){a.call(this,e||"There is some error on the server side",t),this.name="ServerError"}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,a.prototype=Object.create(r.prototype),a.prototype.constructor=a,o.prototype=Object.create(a.prototype),o.prototype.constructor=o,s.prototype=Object.create(o.prototype),s.prototype.constructor=s,n.prototype=Object.create(a.prototype),n.prototype.constructor=n,e.exports={ComponentError:a,ClientError:o,ImageNotFound:s,ServerError:n}},25:function(e,t,r){"use strict";var a=r(15).ServerError,o=r(15).ClientError;e.exports=function(e,t,r,s){var n="";if("string"!=typeof e)for(var i in e){var u="";e[i]&&(u=i+"="+encodeURIComponent("object"==typeof e[i]?JSON.stringify(e[i]):e[i])),u&&(n+=(""===n?"":"&")+u)}else n=e;var c=new XMLHttpRequest;c.open(t,r,!0),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.onreadystatechange=function(){if(4==this.readyState){var e=void 0;if(!this.responseText)return void s(new a("Server is not responding"));e=JSON.parse(this.responseText),this.status>=200&&this.status<300&&s(null,e),this.status>=400&&this.status<500&&s(new o(e.message,e.detail,this.status)),this.status>=500&&s(new a(e.message,this.status))}},c.send(n)}},40:function(e,t){}});