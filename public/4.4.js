webpackJsonp([4],{16:function(e,t,s){"use strict";var i=s(17),o=function(e){i.apply(this,arguments),this.elem=null,this.elemId="message-modal-window",this.caption=e&&e.caption||"message",this.message=e&&e.message||"You were not suppose to see this! Seems like something is broken :("};o.prototype=Object.create(i.prototype),o.prototype.constructor=o,o.prototype.setElem=function(){var e=this;this.setWindowHtml(),this.elem=document.getElementById(this.elemId),this.elem||(this.elem=this.renderWindow(this.windowHtml)),this.setListeners(),this.elem.querySelector(".header").textContent=this.caption,this.elem.querySelector(".message-modal-window__message").textContent=this.message,this.elem.onclick=function(t){e.onElemClick(t),t.target.matches(".message-modal-window__ok-button")&&e.deactivate()}},o.prototype.setWindowHtml=function(){this.windowHtml=s(21)},o.prototype.show=function(){i.prototype.show.apply(this),this.elem||this.setElem(),this.elem.classList.remove("window_invisible")},o.prototype.hide=function(){i.prototype.hide.apply(this),this.elem.classList.add("window_invisible")},e.exports=o},21:function(e,t){e.exports='<div class="window modal window_invisible modal-window message-modal-window" id=message-modal-window> <div class="header window__header"> </div> <div class="panel window__panel"> <div class=message-modal-window__message> </div> <div class="button message-modal-window__ok-button">OK</div> </div> <div class="icon-cross modal-close-button"></div></div>'},36:function(e,t,s){"use strict";var i=s(18),o=s(37),n=s(16),d=function(e){var t=this;this.elem=e.elem,this.imageId=e.imageId;var i=null;this.prompt=new o({message:"Are you sure you want to delete this image? All the likes and comments will be permanently lost."}),this.successMessage=new n({message:"Image has been successfully deleted"}),this.successMessage.on("modal-window_deactivated",function(e){t.trigger("delete-image-button_image-deleted",{url:t.url,imageId:i})}),this.prompt.on("prompt_accepted",function(e){s(25)({id:i},"DELETE","/image",function(e,s){return e?void t.error(e):(t.url=s.url,void t.successMessage.activate())})}),this.elem.onclick=function(e){t.prompt.activate(),i=t.imageId}};d.prototype.setImageId=function(e){this.imageId=e};for(var a in i)d.prototype[a]=i[a];e.exports=d},37:function(e,t,s){"use strict";var i=s(16),o=function(e){i.apply(this,arguments),this.elemId="prompt-window",this.caption=e&&e.caption||"decide",this.message=e&&e.message||"Are you sure?"};o.prototype=Object.create(i.prototype),o.prototype.constructor=o,o.prototype.setWindowHtml=function(){this.windowHtml=s(38)},o.prototype.setElem=function(){var e=this;i.prototype.setElem.apply(this,arguments),this.elem.onclick=function(t){e.onElemClick(t),t.target.matches(".prompt-window__button")&&(t.target.matches(".prompt-window__yes")&&e.trigger("prompt_accepted"),e.deactivate())}},e.exports=o},38:function(e,t){e.exports='<div class="window window_invisible modal modal-window message-modal-window prompt-window" id=prompt> <div class="header window__header"> </div> <div class="panel window__panel"> <div class=message-modal-window__message> </div> <div class=prompt-window__buttons> <div class="button prompt-window__button prompt-window__yes">yes</div> <div class="button prompt-window__button prompt-window__no">no</div> </div> </div> <div class="icon-cross modal-close-button"></div></div>'}});